<!DOCTYPE html>
 
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
</head>

<style type="text/css">

    body{
            background-image: url('http://www.magic4walls.com/wp-content/uploads/2014/06/warm-cup-blueberries-food-picture-fresh-pattern-mood-hd-desktop.jpg');
            background-repeat: no-repeat;
            bottom: 0;
            height: 100%;
            margin: 50px;
            background-size: cover;

        }

    .bs-example{
            margin: 20px;
        }
         
</style>
 
<!-- <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/style.css">
    <link href="images/favicon.ico" rel="shortcut icon">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script> 
    <style type="text/css">
        .bs-example{
            margin: 20px;
        }
        body{
            background-image: url('http://www.magic4walls.com/wp-content/uploads/2014/06/warm-cup-blueberries-food-picture-fresh-pattern-mood-hd-desktop.jpg');
            background-repeat: no-repeat;
            bottom: 0;
            height: 100%;
            margin: 50px;
            background-size: cover;

        }
        div {
    
    overflow: scroll;
}

    </style>
    <title>Titilating TasteBuds</title>
</head> -->

<body>

<div style="float:left;">
    <h1>Your Location is</h1> <div id="address" style=""></div>
    <!-- <h3>Client side IP geolocation using <a href="http://ipinfo.io">ipinfo.io</a></h3> -->
<!--     <div id="ip"></div>
 -->    <div id="address"></div>
<!--     <hr/>Full response: <pre id="details"></pre>
 --></div>

<div align="right">

<button onclick="getLocation()" align="right">Locate</button>
<p></p>
<div id="mapholder" align="right"></div>

<script src="http://maps.google.com/maps/api/js?sensor=false"></script>

<script>
$.get("http://ipinfo.io", function (response) {
    $("#ip").html("IP: " + response.ip);
    $("#address").html("Location: " + response.city + ", " + response.region);
    $("#details").html(JSON.stringify(response, null, 4));
}, "jsonp");
var x = document.getElementById("demo");
function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}

function showPosition(position) {
    lat = position.coords.latitude;
    lon = position.coords.longitude;
    latlon = new google.maps.LatLng(lat, lon)
    mapholder = document.getElementById('mapholder')
    mapholder.style.height = '250px';
    mapholder.style.width = '500px';

    var myOptions = {
    center:latlon,zoom:14,
    mapTypeId:google.maps.MapTypeId.ROADMAP,
    mapTypeControl:false,
    navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
    }
    
    var map = new google.maps.Map(document.getElementById("mapholder"), myOptions);
    var marker = new google.maps.Marker({position:latlon,map:map,title:"You are here!"});
}

function showError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = "User denied the request for Geolocation."
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = "Location information is unavailable."
            break;
        case error.TIMEOUT:
            x.innerHTML = "The request to get user location timed out."
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = "An unknown error occurred."
            break;
    }
}
</script>
</div> 
<p></p>
<div class="container">
    <h1>Restaurant Recommendation System</h1>
    <hr />
    {% for post in posts %}
        <div class="post">
        <h2>{{ post.title }}</h2>
        <h3>Posted on {{ post.timestamp }} by {{ post.author }}</h3>
        <p>{{ post.bodytext }}</p>
        </div>
        <hr />
    {% endfor %}
</div>
</body>
     
</html>
